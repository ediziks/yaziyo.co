{% extends "articles/article_base.html" %}
{% load static %}
{% load readtime %}
{% load social_share %}
{% load widget_tweaks %}
{% block content %}
{% if article.image %}
<div class="article-image" id="art-img" style="background-image:url({{article.image.url}});">
  <h2></h2>
</div>
{% endif %}
<div class="col-md-12">
  <div class="container">
    <div class="article media">
      <div class="media-body">
        <div class="media-heading">
          <div class="user-info">
            <span class="username">
              <a href="{% url 'accounts:profile' username=article.user.username %}"><img src="{{article.user.profile.avatar.url}}" class="rounded-circle mr-1" width="50" height="50" alt="">@{{article.user.username}}</a>
            </span>
            <span class="float-right mt-3">
              <i class="fas fa-stopwatch"></i> {{article.message|readtime}}&nbsp;&nbsp;&nbsp;<i class="far fa-calendar-alt"></i> {{article.created_date|date:"d.m.Y"}}
            </span>
          </div>
          <div class="upper-article">
            <div class="time align-text-center">
              <h1>{{article.title}}</h1>
            </div>
          </div>
          <div class="mt-3 artmessage">
            <pre>
            {{article.message|safe}}
            </pre>
          </div>
          <div class="tags">
            {% for tag in article.tags.all %}
            <a class="mr-1 badge badge-info" href="{% url 'articles:tags' tag=tag.slug %}">#{{ tag.slug }}</a>
            {% endfor %}
          </div>
        </div>
        <div class="modal-footer">
          {% if user.is_authenticated and article.user == request.user %}
          <a class="ml-auto" title="sil" href="{% url 'articles:delete' username=request.user.username slug=article.slug %}"><button type="button" class="btn btn-outline-danger"><i class="fas fa-trash-alt"></i></button></a>
          {% endif %}
          {% if article in request.user.profile.bookmarks.all %}
          <a title="kaydedilenlerden çıkar" href="{% url 'articles:delete_bookmark' bookmark_slug=article.slug %}"><button type="button" class="btn btn-outline-primary"><i class="fa fa-bookmark"></i>&nbsp;<i class="fas fa-check"></i></button></a>
          {% else %}
          <a title="kaydet" href="{% url 'articles:add_bookmark' bookmark_slug=article.slug %}"><button type="button" class="btn btn-outline-primary"><i class="fa fa-bookmark-o"></i></button></a>
          {% endif %}
          {% if request.user in article.likes.all %}
          <a title="beğeniyi geri çek" href="{{article.get_like_url}}"><button type="button" class="btn btn-outline-danger"><i class="fa fa-heart"></i> <strong>{{article.likes.count}}</strong></button></a>
          {% else %}
          <a title="beğen" href="{{article.get_like_url}}"><button type="button" class="btn btn-outline-danger"><i class="fa fa-heart-o"></i> <strong>{{article.likes.count}}</strong></button></a>
          {% endif %}
          <div class="tw-share">
            <span class="btn btn-outline-info btn-lg fa fa-twitter">{% post_to_twitter "My New Article: {{article.title}}. Check it out!" object_or_url "" %}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="comments-from-article-detail">
  {% include "articles/comments.html" %}
</div>
<style>
@media only screen and (max-width: 767px) {
  .user-info {
    padding: 2.6em 1.5em !important;
  }
}

body,
html {
  height: 100%;
}

.tags {
  display: flex;
  margin-bottom: 1.5em;
  flex-wrap: wrap;
}

.tags .badge {
  margin-bottom: 0.3em;
}

.fa-calendar-alt {
  border-left: 1px solid black;
  padding-left: 1em;
} 

.username a {
  color: black;
  font-weight: 200;
}

.username a:hover {
  color: #2cc4bb;
}

h1 {
  font-size: 28pt !important;
  font-weight: 800 !important;
  border-top: 1px solid #dee2e6 !important;
  padding-top: 0.6em !important;
}

.badge-info {
  font-size: 11pt;
  padding: 0.6em 0.4em 0.6em 0.4em;
}

.artmessage {
  width: 100%
}

.artmessage * {
  font-size: 105%;
  line-height: 1.3;
}

pre {
  white-space: pre-wrap;
  color: black;
}

.user-info {
  background: #c8c8c8;
  padding: 1.3em 1.5em;
  border-radius: 10px;
}

#art-img {
  /*  padding-top: 10em;
  padding-bottom: 10em; */
  margin-bottom: 1.3em;
  overflow: hidden;
  position: relative;
  height: 100vh;
  background-attachment: fixed;
  background-size: cover;
  -moz-background-size: cover;
  -webkit-background-size: cover;
  /*   background-position-x: right;
  background-position-y: center; */
  background-repeat: no-repeat;
  background-position: top center;
}

/* #art-img h2 {
  font-size: 70px;
  letter-spacing: 0.18em;
  text-align: center;
  color: white;
  font-weight: 500;
  text-transform: uppercase;
  z-index: 10;
  opacity: 0.9;
  text-shadow: 2.5px 2.5px #000000;
  padding: 0 0.5em 0 0.5em;
} */
</style>
{% endblock content %}
{% block bottom %}
{# code syntax highlight #}
{% endblock bottom %}